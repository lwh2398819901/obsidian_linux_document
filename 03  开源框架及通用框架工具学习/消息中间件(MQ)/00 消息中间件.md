---
dg-publish: false
---
```toc
```

## 持久化

|     | ActiveMQ | RabbitMQ | Kafka | RocketMQ |
| --- | -------- | -------- | ----- | -------- |
| 文件  | 支持       | 支持       | 支持    | 支持       |
| 数据库 | 支持       | /        | /     | /        |

## 消息分发策略

|      | ActiveMQ | RabbitMQ | Kafka | RocketMQ |
| ---- | -------- | -------- | ----- | -------- |
| 发布订阅 | 支持       | 支持       | 支持    | 支持       |
| 轮询分发 | 支持       | 支持       | 支持    | /        |
| 公平分发 | /        | 支持       | 支持    | /        |
| 重发   | 支持       | 支持       | /     | 支持       |
| 消息拉取 | /        | 支持       | 支持    | 支持       |

这里要解释一下：

- 发布订阅：生产者，消费者模式
- 轮询分发：多台服务器集群方式，轮番推送，假如100条数据三台设备，不考虑性能保证每台设备能够获取33条消息，但是不保证获取消息顺序。
- 公平分发：多台服务器集群方式。假如100条数据三台设备，能者多劳。（丢！公平分发一点不公平，轮询分发反而公平，或者认为能者多劳才公平？）
- 重发：
- 消息拉取：RPC方式 不常用

## 消息队列的流派

1. 有broker【代理】
	- 重topic: kafka ，RocketMQ,ActoveMQ
		整个broker，依据topic进行消息中转。在重topic的消息队列中必然需要topic的存在
	- 轻topic: RabbitMQ
		topic只是一种中转模式。

 2. 无broker
	 - 生产者和消费者之间没有使用broker,例如zeroMQ,以嵌入库形式直接使用socket进行通信



 参考链接[消息队列库——ZeroMQ](https://www.cnblogs.com/chenny7/p/6245236.html)